<html lang="ja">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A site to make datas.">
    <link rel="stylesheet" href="https://unpkg.com/mvp.css@1.11/mvp.css">
    <title>Data Maker</title>
</head>

<body>
    <main>
        <h1>Data Maker v2</h1>
        <form action="data.html" method="get">
            <h2>Data Gen</h2>
            <label for="Hcount">H2</label>
            <input type="number" name="Hcount" id="Hcount" value="" required />
            <label for="Ocount">O2</label>
            <input type="number" name="Ocount" id="Ocount" value="" required />
            <label for="left">left</label>
            <input type="number" name="left" id="left" value="" required />
            <button type="button" name="go" onclick="generate()">Generate</button>
            <table id="table">
                <tr>
                    <th>Mix</th>
                    <th>H2</th>
                    <th>O2</th>
                    <th>left</th>
                </tr>
            </table>
        </form>
    </main>

    <script>
        function generate() {
            var Hcount = parseInt(document.getElementById("Hcount").value);
            var Ocount = parseInt(document.getElementById("Ocount").value);
            var left = parseInt(document.getElementById("left").value);

            var mix = Hcount + Ocount;
            var mixFactor = 60 / mix;
            mix = Math.round(mix * mixFactor);
            var H2 = Math.round(Hcount * mixFactor);
            var O2 = Math.round(Ocount * mixFactor);
            var leftValue = Math.round(left * mixFactor);

            var table = document.getElementById("table");
            var row = table.insertRow(-1);
            var mixCell = row.insertCell(0);
            var H2Cell = row.insertCell(1);
            var O2Cell = row.insertCell(2);
            var leftCell = row.insertCell(3);

            mixCell.innerHTML = mix;
            H2Cell.innerHTML = H2;
            O2Cell.innerHTML = O2;
            leftCell.innerHTML = leftValue;
        }
    </script>
</body>

</html>
